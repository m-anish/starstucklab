/* SPDX-License-Identifier: DWYWBDBM-1.0 */
/* Licensed under the "Do What You Want But Don’t Blame Me" License, Version 1.0. */
/* See the COPYING file or visit https://starstucklab.com/license for details. */

/* Typographic system for Starstuck Lab
   - Uses clamp() for fluid scaling
   - Primary fonts: Orbitron/Audiowide for headers, Space Grotesk for body
   - Console: JetBrains Mono for code/snark
   - Based on the project's style guide and personality notes.
   - Drop this into your global CSS (e.g., src/styles/global.css)
*/

/* -------------------------
   Font imports (optional)
   If you're loading fonts via Google Fonts or self-hosting, ensure these are included.
   If you self-host, remove @import and include @font-face rules instead.
------------------------- */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Space+Grotesk:wght@300;400;600&family=JetBrains+Mono:wght@400;600&display=swap');

/* -------------------------
   Design tokens
------------------------- */
:root{
  /* Colors (from style guide) */
  --color-bg: #0b0c10;
  --color-text: #f4f4f4;
  --color-accent: #4ec57a;
  --color-accent-2: #7d5fff;
  --muted: rgba(244,244,244,0.66);

  /* Typographic base
     - base-size: fluid between 16px and 18px
  */
  --fs-base: clamp(1rem, 0.95rem + 0.35vw, 1.125rem); /* 16px -> 18px */

  /* Modular scale ratio (minor third ~1.2)
     We'll compute scales relative to base using clamp for fluidity
  */
  --scale-ratio: 1.2;

  /* Line heights */
  --leading-tight: 1.1;
  --leading-snug: 1.25;
  --leading-base: 1.5;

  /* Max content width */
  --content-max: 1200px;
}

/* -------------------------
   Base typographic rules
------------------------- */
html {
  font-family: 'Space Grotesk', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  font-size: var(--fs-base);
  color: var(--color-text);
  background: var(--color-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Make headings visually distinct with header font */
h1,h2,h3,h4 {
  font-family: 'Orbitron', 'Audiowide', "Space Grotesk", system-ui, sans-serif;
  color: var(--color-text);
  letter-spacing: -0.01em;
  margin: 0 0 0.6em 0;
  line-height: var(--leading-tight);
  font-weight: 700;
  text-wrap: balance; /* where supported, helps with headline balance */
}

/* Fluid headline scale using clamp and the modular scale */
h1 {
  /* approx: 2.8rem -> 4.2rem depending on viewport */
  font-size: clamp(2.2rem, 1.6rem + 3.2vw, 4.2rem);
  line-height: 1.05;
  letter-spacing: -0.02em;
}

h2 {
  /* approx: 1.6rem -> 2.6rem */
  font-size: clamp(1.45rem, 1.2rem + 1.6vw, 2.6rem);
  line-height: 1.08;
}

h3 {
  font-size: clamp(1.2rem, 1.05rem + 0.9vw, 1.6rem);
  line-height: 1.12;
}

h4 {
  font-size: clamp(1rem, 0.95rem + 0.6vw, 1.15rem);
  line-height: 1.2;
}

/* Body copy */
p, li, dd {
  font-size: var(--fs-base);
  line-height: var(--leading-base);
  margin: 0 0 1rem 0;
  color: var(--color-text);
  max-width: var(--content-max);
}

/* Lead / intro text (slightly larger, more lyrical) */
.lead {
  font-size: clamp(1.125rem, 1rem + 0.6vw, 1.375rem);
  line-height: 1.45;
  color: var(--muted);
  margin-bottom: 1.25rem;
}

/* Small / caption */
.small, .caption {
  font-size: clamp(0.8rem, 0.75rem + 0.2vw, 0.9rem);
  line-height: 1.3;
  color: rgba(244,244,244,0.66);
}

/* Nav items — slightly condensed, uppercase for presence */
.nav {
  font-weight: 600;
  font-size: clamp(0.95rem, 0.9rem + 0.2vw, 1.05rem);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  display: flex;
  gap: 1rem;
  align-items: center;
}

/* Buttons (typographic baseline for CTAs) */
.btn {
  font-weight: 600;
  font-size: clamp(0.95rem, 0.9rem + 0.2vw, 1.05rem);
  padding: 0.6rem 1rem;
  border-radius: 10px;
  text-decoration: none;
  display: inline-block;
}

/* Code / console aesthetic */
code, pre, .console {
  font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  font-size: clamp(0.85rem, 0.8rem + 0.2vw, 0.95rem);
  line-height: 1.5;
  background: rgba(255,255,255,0.02);
  color: var(--color-text);
  border-radius: 6px;
  padding: 0.15rem 0.4rem;
}

/* Large pre blocks */
pre {
  padding: 1rem;
  overflow-x: auto;
  border-radius: 12px;
}

/* Emphasis styles that match the voice */
.italic-sigh {
  font-style: italic;
  color: rgba(244,244,244,0.92);
}

/* Utility: readable measure */
.article {
  max-width: 70ch; /* good measure for reading */
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.25rem;
  padding-right: 1.25rem;
}

/* Responsive tweaks for very small screens */
@media (max-width: 420px) {
  h1 { font-size: clamp(1.8rem, 1.4rem + 3.4vw, 3.2rem); }
  .article { padding-left: 0.85rem; padding-right: 0.85rem; }
}

/* Accessibility: high-contrast focus outlines */
:focus {
  outline: 3px solid color-mix(in srgb, var(--color-accent) 60%, transparent);
  outline-offset: 3px;
  border-radius: 6px;
}

/* Optional: heading decoration to lean into the persona */
.h1-subtitle {
  display: block;
  font-size: 0.5em;
  color: rgba(255,255,255,0.58);
  margin-top: 0.35rem;
  font-weight: 400;
}

/* End of typographic system */
