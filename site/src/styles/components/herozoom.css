/* herozoom.css — component-scoped hero styles (move from herozoom.astro) */

/* local tokens — if you want global tokens, move these to global.css instead */
:root {
  --page-bg: #05060a;
  --starry-white: #f8f4e8;
  --nav-bg: rgba(6,10,12,0.6);
  --nav-compact-bg: rgba(6,10,12,0.85);
}

/* layout */
.herozoom-root { position: relative; width:100%; }
.herozoom-spacer { height: calc(var(--stage-vh) * 1vh); width:100%; }
.hero-layer { position: fixed; inset: 0; width:100%; height:100vh; display:block; object-fit: cover; object-position: 50% 65%; transform-origin: 50% 65%; will-change: transform, opacity; pointer-events: none; z-index: 20; }

/* allow visuals to be visible but not block clicks */
#herozoomSpacer,
.herozoom-spacer,
#herozoomRoot,
.herozoom-root {
  pointer-events: none; /* let clicks pass through the visual layers */
}

/* explicitly let intended interactive elements be clickable */
#herozoomSpacer .interactive,
.herozoom-spacer .interactive,
#herozoomRoot .interactive,
.herozoom-root .interactive,

/* layering */
.layer-forest {
  z-index:15;
  opacity:1;
  transform: scale(1) translateY(0);
  transition: transform 160ms linear, opacity 180ms linear;
  transform-origin: 50% 80%;
  object-position: 50% 70%;
}
.layer-interior { z-index:10; opacity:0; transition: opacity 220ms linear; transform-origin: 50% 65%; }

/* overlay */
.hero-overlay { position: fixed; top: 12vh; left: 0; right: 0; display:flex; flex-direction:column; align-items:center; text-align:center; z-index:30; pointer-events:none; color:var(--starry-white); padding:0 1rem; }
.post-zoom { background:var(--page-bg); color:#ddd; padding:48px 24px; min-height:40vh; }

/* centered logo */
#hzHeroLogo {
  width: clamp(70px, 12vw, 140px);
  height: auto;
  margin-bottom: 22px;
  opacity: 0.96;
  pointer-events: none;
  filter: drop-shadow(0 4px 12px rgba(0,0,0,0.4));
}
#pageNav.nav-visible + #hzHeroLogo { opacity: 0; }

/* nav */
#pageNav {
  position: fixed;
  top: 12px;
  left: 50%;
  transform: translateX(-50%) translateY(-10px);
  z-index: 60;
  backdrop-filter: blur(6px);
  border-radius: 12px;
  transition:
    opacity 260ms ease,
    transform 260ms ease,
    pointer-events 260ms ease,
    padding 260ms ease,
    background-color 260ms ease,
    width 260ms ease;
  opacity: 0;
  pointer-events: none;
  width: min(1100px, calc(100% - 40px));
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
  background: var(--nav-bg);
}
#pageNav .nav-inner {
  display:flex; align-items:center; justify-content:space-between;
  padding: 10px 16px; gap: 12px;
  color: var(--starry-white);
  font-family: Inter, system-ui;
  font-size: 0.95rem;
}
#pageNav .nav-links { list-style:none; margin:0; padding:0; display:flex; gap:14px; }
#pageNav .nav-links a { color: var(--starry-white); text-decoration:none; opacity:0.96; }
#pageNav .nav-logo { font-weight:700; letter-spacing:0.6px; text-decoration:none; color:var(--starry-white); }

/* visible/hidden states */
#pageNav.nav-visible {
  opacity: 1;
  pointer-events: auto;
  transform: translateX(-50%) translateY(0px);
}
#pageNav.nav-hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateX(-50%) translateY(-10px);
}

/* sticky compact mode */
#pageNav.nav-sticky {
  top: 0;
  left: 0;
  right: 0;
  transform: translateY(0);
  width: 100%;
  border-radius: 0;
  padding: 6px 8px;
  background: var(--nav-compact-bg);
  box-shadow: 0 6px 28px rgba(0,0,0,0.55);
}
#pageNav.nav-sticky .nav-inner {
  padding: 8px 20px;
  max-width: 1200px;
  margin: 0 auto;
}

/* logo in navbar */
.nav-logo { display:flex; align-items:center; gap: 8px; font-weight:700; color:var(--starry-white); text-decoration:none; }
.nav-logo img { height: 28px; width: auto; object-fit: contain; display: block; }
#pageNav.nav-sticky .nav-logo img { height: 22px; }

/* fluid sizing tokens */
:root {
  --nav-font-min: 1.65rem;
  --nav-font-max: 2.15rem;
  --nav-logo-text-min: 1.65rem;
  --nav-logo-text-max: 2.15rem;
  --nav-padding-min: 8px;
  --nav-padding-max: 14px;
}

/* fluid nav text */
.nav-logo-img { height: clamp(32px, 4.8vw, 42px); width:auto; transition: height 180ms ease; }
.nav-logo-text { font-size: clamp(var(--nav-logo-text-min), 1.5vw, var(--nav-logo-text-max)); letter-spacing:0.6px; transition: font-size 180ms ease; }
.nav-links a { font-size: clamp(var(--nav-font-min), 1.6vw, var(--nav-font-max)); padding: 6px 2px; transition: font-size 160ms ease, padding 160ms ease; }
#pageNav .nav-inner { padding: clamp(var(--nav-padding-min), 1.6vw, var(--nav-padding-max)); }

/* sticky variations keep clamp values */
#pageNav.nav-sticky .nav-logo-img { height: clamp(18px, 3.2vw, 26px); }
#pageNav.nav-sticky .nav-logo-text { font-size: clamp(0.88rem, 1.2vw, 0.95rem); }
#pageNav.nav-sticky .nav-inner { padding: clamp(6px, 1.2vw, 10px); }

/* small phones */
@media (max-width: 360px) {
  .nav-links { gap: 10px; }
  .nav-links a { padding: 8px 4px; }
}

/* hero text classes to replace inline style attributes */
.hero-title {
  margin: 0;
  padding: 0;
  font-family: 'Playfair Display', serif;
  font-size: clamp(2rem, 5.8vw, 3.6rem); /* copied from inline style */
  color: var(--starry-white);
}
.hero-lead {
  margin-top: 10px;
  opacity: 0.92;
  font-family: Inter, system-ui;
  font-size: clamp(.95rem, 2.6vw, 1.1rem);
  color: var(--starry-white);
}
.cta {
  display:inline-block;
  background: rgba(78,197,122,0.06);
  border: 1px solid rgba(78,197,122,0.18);
  padding: 0.6rem 1rem;
  border-radius: 28px;
  color: var(--starry-white);
  text-decoration: none;
  font-size: clamp(1rem, 3.2vw, 1.2rem);
  pointer-events: auto;    /* interactive elements override the spacer's rule */
  position: relative;      /* ensures z-index takes effect */
  z-index: 9999;
  cursor: pointer;
  transition: transform 180ms cubic-bezier(.2,.8,.2,1), box-shadow 180ms, opacity 120ms;
  will-change: transform, box-shadow, opacity;
  transform-origin: center;
}

.cta:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 10px 30px rgba(0,0,0,0.18); }
.cta:active { transform: translateY(0) scale(0.995); box-shadow: 0 5px 12px rgba(0,0,0,0.12); }
.cta:focus { outline: 3px solid rgba(200,230,220,0.18); outline-offset: 4px; }

/* default: invisible and non-interactive */
.post-zoom {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 280ms ease, visibility 0ms linear 280ms;
}

/* visible state */
.post-zoom.in {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transition: opacity 320ms ease;
}

/* optionally hide during zooming (if your script toggles .zooming on <html> or <body>) */
.zooming .post-zoom { 
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* reduced motion safety */
@media (prefers-reduced-motion: reduce) {
  .layer-interior, .layer-forest, #pageNav { transition: none !important; }
}

/* Temporary global override used during initial prerender to avoid flashes.
   JS toggles .no-transitions on <html> and removes it after initial frames. */
.no-transitions * {
  transition: none !important;
  animation: none !important;
}

@media (max-width: 600px) {
  /* move the nav slightly down so it doesn't collide with device chrome */
  #pageNav {
    top: 8px;
    left: 50%;
    transform: translateX(-50%) translateY(0);
    padding: 6px 8px;
    width: calc(100% - 20px);
    background: rgba(6,10,12,0.88); /* slightly darker compact background */
    box-shadow: 0 8px 20px rgba(0,0,0,0.55);
    border-radius: 10px;
  }

  #pageNav .nav-inner {
    padding: 6px 10px;
    gap: 8px;
    align-items: center;
    justify-content: space-between;
  }

  /* logo image: much smaller on phones */
  .nav-logo img {
    height: 30px;
    width: auto;
    transition: height 160ms ease;
  }
  /* optional: hide the wordmark text to save space */
  .nav-logo span {
    display: none;
    font-size: 0.86rem;
  }

  /* links: smaller, tighter spacing */
  .nav-links {
    gap: 2px;
    margin-left: 0px;
  }
  .nav-links a {
    font-size: 0.86rem; /* ~14px */
    padding: 3px 4px;
    letter-spacing: 0.02em;
    text-transform: none;
  }

  /* sticky compact variation (when nav-sticky is applied) */
  #pageNav.nav-sticky {
    top: 0;
    left: 0;
    transform: none;
    width: 100%;
    border-radius: 0;
    padding: 6px 8px;
  }
  #pageNav.nav-sticky .nav-inner {
    max-width: 100%;
    padding: 6px 12px;
  }
  #pageNav.nav-sticky .nav-logo img { height: 18px; }

  /* VERY COMPACT MODE: hide nav links entirely if viewport is very narrow (<380px)
     Useful for cramped phones — keeps logo + an affordance for a hamburger later. */
  @media (max-width: 380px) {
    .nav-links { display: none; }
    /* you can later insert a .nav-toggle button to open a sliding panel */
  }
}